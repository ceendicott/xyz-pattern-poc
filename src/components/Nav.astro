---
// Assets from Figma
const logoBlack = 'https://www.figma.com/api/mcp/asset/6dc18f8d-ca41-47b9-a2d6-d5b2b85ca42a';
const chevronDown = 'https://www.figma.com/api/mcp/asset/265827a8-e933-47f4-8585-c8d84226c273';
---

<header
  class="fixed top-0 left-0 right-0 z-50 bg-white/95 backdrop-blur-sm border-b border-gray-100"
  x-data="{ mobileOpen: false, servicesOpen: false }"
>
  <div class="section-container h-20 flex items-center justify-between">

    <!-- Logo -->
    <a href="/" class="shrink-0">
      <img src={logoBlack} alt="XYZ Pattern Services" class="h-[50px] w-auto" />
    </a>

    <!-- Desktop nav links (center) -->
    <nav class="hidden lg:flex items-center gap-1">
      <a
        href="/"
        class="px-4 py-3 font-normal text-base text-black hover:text-[#F7931E] transition-colors"
        style="font-family: var(--font-spartan)"
      >
        Home
      </a>

      <!-- Services dropdown -->
      <div class="relative" x-data="{ open: false }">
        <button
          @click="open = !open"
          @click.away="open = false"
          class="flex items-center gap-2 px-4 py-3 font-normal text-base text-black hover:text-[#F7931E] transition-colors"
          style="font-family: var(--font-spartan)"
        >
          Services
          <img
            src={chevronDown}
            alt=""
            class="h-[17px] w-[13px] transition-transform duration-200"
            :class="open ? 'rotate-180' : ''"
          />
        </button>
        <div
          x-show="open"
          x-transition:enter="transition ease-out duration-150"
          x-transition:enter-start="opacity-0 -translate-y-1"
          x-transition:enter-end="opacity-100 translate-y-0"
          x-transition:leave="transition ease-in duration-100"
          x-transition:leave-start="opacity-100 translate-y-0"
          x-transition:leave-end="opacity-0 -translate-y-1"
          class="absolute top-full left-0 mt-1 w-56 bg-white rounded-xl shadow-lg border border-gray-100 py-2 z-50"
        >
          <a href="/services/2d-patterns" class="block px-4 py-2.5 text-base text-black hover:bg-orange-50 hover:text-[#F7931E] transition-colors" style="font-family: var(--font-spartan)">2D Patterns</a>
          <a href="/services/3d-prototyping" class="block px-4 py-2.5 text-base text-black hover:bg-orange-50 hover:text-[#F7931E] transition-colors" style="font-family: var(--font-spartan)">3D Prototyping</a>
          <a href="/services/size-grading" class="block px-4 py-2.5 text-base text-black hover:bg-orange-50 hover:text-[#F7931E] transition-colors" style="font-family: var(--font-spartan)">Size Grading</a>
          <a href="/services/marker-layout" class="block px-4 py-2.5 text-base text-black hover:bg-orange-50 hover:text-[#F7931E] transition-colors" style="font-family: var(--font-spartan)">Marker Layout</a>
          <a href="/services/full-service" class="block px-4 py-2.5 text-base text-black hover:bg-orange-50 hover:text-[#F7931E] transition-colors" style="font-family: var(--font-spartan)">Full Service Support</a>
        </div>
      </div>

      <a
        href="/about"
        class="px-4 py-3 font-normal text-base text-black hover:text-[#F7931E] transition-colors"
        style="font-family: var(--font-spartan)"
      >
        About Us
      </a>
      <a
        href="/blog"
        class="px-4 py-3 font-normal text-base text-black hover:text-[#F7931E] transition-colors"
        style="font-family: var(--font-spartan)"
      >
        Blog
      </a>
    </nav>

    <!-- Desktop CTA -->
    <a href="/contact" class="hidden lg:inline-flex btn-primary font-bold shadow-[0px_1px_1px_0px_rgba(0,0,0,0.5)]">
      Contact Us
    </a>

    <!-- Mobile hamburger -->
    <button
      class="lg:hidden p-2 text-black"
      @click="mobileOpen = !mobileOpen"
      aria-label="Toggle menu"
    >
      <span x-show="!mobileOpen">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </span>
      <span x-show="mobileOpen">
        <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
        </svg>
      </span>
    </button>
  </div>

  <!-- Mobile menu -->
  <div
    x-show="mobileOpen"
    x-transition:enter="transition ease-out duration-200"
    x-transition:enter-start="opacity-0 -translate-y-2"
    x-transition:enter-end="opacity-100 translate-y-0"
    x-transition:leave="transition ease-in duration-150"
    x-transition:leave-start="opacity-100 translate-y-0"
    x-transition:leave-end="opacity-0 -translate-y-2"
    class="lg:hidden bg-white border-t border-gray-100 px-4 py-4 space-y-1"
  >
    <a href="/" class="block px-4 py-3 text-base text-black hover:text-[#F7931E]" style="font-family: var(--font-spartan)">Home</a>
    <a href="/services" class="block px-4 py-3 text-base text-black hover:text-[#F7931E]" style="font-family: var(--font-spartan)">Services</a>
    <a href="/about" class="block px-4 py-3 text-base text-black hover:text-[#F7931E]" style="font-family: var(--font-spartan)">About Us</a>
    <a href="/blog" class="block px-4 py-3 text-base text-black hover:text-[#F7931E]" style="font-family: var(--font-spartan)">Blog</a>
    <div class="pt-2">
      <a href="/contact" class="btn-primary font-bold w-full justify-center">Contact Us</a>
    </div>
  </div>
</header>
